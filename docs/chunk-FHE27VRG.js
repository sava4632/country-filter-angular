import{A as a,B as d,C as h,D,E as M,F as N,G as j,H as Z,I as O,J as y,K as V,L as ee,M as te,Q as ie,S as ne,T as oe,U as q,Y as $,Z as I,_ as re,a as T,b as J,c as B,d as H,e as G,f as C,g as K,h as P,i as Q,j as f,k as w,l as W,m as X,n as R,o as s,p as g,q as u,r as m,s as o,t as i,u as p,v as Y,w as b,x,y as L,z as F}from"./chunk-NEYDYP55.js";var v=(()=>{let e=class e{constructor(n){this.httpClient=n,this.baseUrl="https://restcountries.com/v3.1",this.cacheStore={byCapital:{term:"",countries:[]},byCountry:{term:"",countries:[]},byRegion:{region:"",countries:[]}},this.loadToLocalStorage()}saveToLocalStorage(){localStorage.setItem("cacheStore",JSON.stringify(this.cacheStore))}loadToLocalStorage(){localStorage.getItem("cacheStore")&&(this.cacheStore=JSON.parse(localStorage.getItem("cacheStore")))}getCountriesRequest(n){return this.httpClient.get(n).pipe(B(()=>T([])),H(2e3))}searchCountryByAlphaCode(n){let r=`${this.baseUrl}/alpha/${n}`;return this.httpClient.get(r).pipe(J(l=>l.length>0?l[0]:null),B(l=>T(null)))}searchCapital(n){let r=`${this.baseUrl}/capital/${n}`;return this.getCountriesRequest(r).pipe(C(l=>this.cacheStore.byCapital={term:n,countries:l}),C(()=>this.saveToLocalStorage()))}searchCountry(n){let r=`${this.baseUrl}/name/${n}`;return this.httpClient.get(r).pipe(C(l=>this.cacheStore.byCountry={term:n,countries:l}),C(()=>this.saveToLocalStorage()),B(()=>T([])))}searchRegion(n){let r=`${this.baseUrl}/region/${n}`;return this.httpClient.get(r).pipe(C(l=>this.cacheStore.byRegion={region:n,countries:l}),C(()=>this.saveToLocalStorage()),B(()=>T([])))}};e.\u0275fac=function(r){return new(r||e)(Q(te))},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ue=t=>["/countries/by",t];function he(t,e){t&1&&(o(0,"div",2),a(1,` No hay pa\xEDses que mostrar
`),i())}function fe(t,e){if(t&1&&(o(0,"tr",5)(1,"td"),a(2),i(),o(3,"td"),a(4),i(),o(5,"td"),p(6,"img",6),i(),o(7,"td"),a(8),i(),o(9,"td"),a(10),i(),o(11,"td"),a(12),M(13,"number"),i(),o(14,"td")(15,"a",7),a(16," Info "),i()()()),t&2){let c=e.$implicit,n=e.index;s(2),h(" ",n+1,""),s(2),h(" ",c.flag," "),s(2),L("alt",c.name.common),m("src",c.flags.svg,R),s(2),h(" ",c.name.common," "),s(2),h(" ",c.capital," "),s(2),h(" ",N(13,8,c.population)," "),s(3),m("routerLink",D(10,ue,c.cca3))}}function ge(t,e){if(t&1&&(o(0,"table",3)(1,"thead")(2,"tr")(3,"th"),a(4,"#"),i(),o(5,"th"),a(6,"Icon"),i(),o(7,"th"),a(8,"Bandera"),i(),o(9,"th"),a(10,"Nombre"),i(),o(11,"th"),a(12,"Capital"),i(),o(13,"th"),a(14,"Poblaci\xF3n"),i(),o(15,"th"),a(16,"Enlace"),i()()(),o(17,"tbody"),u(18,fe,17,12,"tr",4),i()()),t&2){let c=x();s(18),m("ngForOf",c.countries)}}var E=(()=>{let e=class e{constructor(){this.countries=[]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=f({type:e,selectors:[["countries-table"]],inputs:{countries:"countries"},decls:3,vars:2,consts:[["table",""],["class","alert alert-warning text-center",4,"ngIf","ngIfElse"],[1,"alert","alert-warning","text-center"],[1,"table","table-hover"],["data-aos","flip-down","data-aos-duration","1000",4,"ngFor","ngForOf"],["data-aos","flip-down","data-aos-duration","1000"],[3,"src","alt"],[3,"routerLink"]],template:function(r,l){if(r&1&&u(0,he,2,0,"div",1)(1,ge,19,1,"ng-template",null,0,j),r&2){let _=F(2);m("ngIf",l.countries.length===0)("ngIfElse",_)}},dependencies:[O,y,oe,V],styles:["img[_ngcontent-%COMP%]{width:35px}"]});let t=e;return t})();function ve(t,e){t&1&&p(0,"shared-loading-spinnner")}var se=(()=>{let e=class e{constructor(n){this.countriesService=n,this.countries=[],this.isLoading=!1,this.initialValue=""}ngOnInit(){this.initialValue=this.countriesService.cacheStore.byCapital.term,this.countries=this.countriesService.cacheStore.byCapital.countries}searchByCapital(n){this.isLoading=!0,this.countriesService.searchCapital(n).subscribe(r=>{this.countries=r,this.isLoading=!1})}};e.\u0275fac=function(r){return new(r||e)(g(v))},e.\u0275cmp=f({type:e,selectors:[["countries-by-capital-page"]],decls:12,vars:3,consts:[["data-aos","fade-left","data-aos-duration","1000"],[1,"row"],[1,"col"],["placeholder","Buscar por capital",3,"onDebounce","initialValue"],[3,"countries"],[4,"ngIf"]],template:function(r,l){r&1&&(o(0,"div",0)(1,"h2"),a(2,"Por capital"),i(),p(3,"hr"),o(4,"div",1)(5,"div",2)(6,"shared-search-box",3),b("onDebounce",function(A){return l.searchByCapital(A)}),i()()(),o(7,"div",1)(8,"div",2),p(9,"hr")(10,"countries-table",4),i()()(),u(11,ve,1,0,"shared-loading-spinnner",5)),r&2&&(s(6),m("initialValue",l.initialValue),s(4),m("countries",l.countries),s(),m("ngIf",l.isLoading))},dependencies:[y,$,I,E]});let t=e;return t})();function Ce(t,e){t&1&&p(0,"shared-loading-spinnner")}var ce=(()=>{let e=class e{constructor(n){this.countriesService=n,this.countries=[],this.isLoading=!1,this.initialValue=""}ngOnInit(){this.initialValue=this.countriesService.cacheStore.byCountry.term,this.countries=this.countriesService.cacheStore.byCountry.countries}searchByCountry(n){this.isLoading=!0,this.countriesService.searchCountry(n).subscribe(r=>{this.countries=r,this.isLoading=!1})}};e.\u0275fac=function(r){return new(r||e)(g(v))},e.\u0275cmp=f({type:e,selectors:[["countries-by-country-page"]],decls:12,vars:3,consts:[["data-aos","fade-left","data-aos-duration","1000"],[1,"row"],[1,"col"],["placeholder","Buscar por pa\xEDs",3,"onDebounce","initialValue"],[3,"countries"],[4,"ngIf"]],template:function(r,l){r&1&&(o(0,"div",0)(1,"h2"),a(2,"Por pa\xEDs"),i(),p(3,"hr"),o(4,"div",1)(5,"div",2)(6,"shared-search-box",3),b("onDebounce",function(A){return l.searchByCountry(A)}),i()()(),o(7,"div",1)(8,"div",2),p(9,"hr")(10,"countries-table",4),i()()(),u(11,Ce,1,0,"shared-loading-spinnner",5)),r&2&&(s(6),m("initialValue",l.initialValue),s(4),m("countries",l.countries),s(),m("ngIf",l.isLoading))},dependencies:[y,$,I,E]});let t=e;return t})();var xe=t=>({"btn-outline-primary":t});function Se(t,e){if(t&1){let c=Y();o(0,"button",7),b("click",function(){let r=W(c).$implicit,l=x();return X(l.searchByRegion(r))}),a(1),i()}if(t&2){let c=e.$implicit,n=x();m("ngClass",D(2,xe,n.selectedRegion===c)),s(),h(" ",c," ")}}function be(t,e){t&1&&p(0,"shared-loading-spinnner")}var le=(()=>{let e=class e{constructor(n){this.countriesService=n,this.countries=[],this.regions=["Africa","Americas","Asia","Europe","Oceania"],this.isLoading=!1}ngOnInit(){this.selectedRegion=this.countriesService.cacheStore.byRegion.region,this.countries=this.countriesService.cacheStore.byRegion.countries}searchByRegion(n){this.isLoading=!0,this.selectedRegion=n,this.countriesService.searchRegion(n).subscribe(r=>{this.countries=r,this.isLoading=!1})}};e.\u0275fac=function(r){return new(r||e)(g(v))},e.\u0275cmp=f({type:e,selectors:[["countries-by-region-page"]],decls:12,vars:3,consts:[["data-aos","fade-left","data-aos-duration","1000"],[1,"row"],[1,"col","text-center"],["class","btn text-white mx-2",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"col"],[3,"countries"],[4,"ngIf"],[1,"btn","text-white","mx-2",3,"click","ngClass"]],template:function(r,l){r&1&&(o(0,"div",0)(1,"h2"),a(2,"Por regi\xF3n"),i(),p(3,"hr"),o(4,"div",1)(5,"div",2),u(6,Se,2,4,"button",3),p(7,"hr"),i()(),o(8,"div",1)(9,"div",4),p(10,"countries-table",5),i()()(),u(11,be,1,0,"shared-loading-spinnner",6)),r&2&&(s(6),m("ngForOf",l.regions),s(4),m("countries",l.countries),s(),m("ngIf",l.isLoading))},dependencies:[Z,O,y,I,E]});let t=e;return t})();function Ie(t,e){t&1&&(o(0,"div",2),a(1," Espere porfavor... "),i())}function Ee(t,e){if(t&1&&(o(0,"div")(1,"div",3)(2,"div",4)(3,"h2"),a(4," Pa\xEDs: "),o(5,"strong"),a(6),i()(),p(7,"hr"),i()(),o(8,"div",3)(9,"div",5)(10,"h3"),a(11,"Bandera"),i(),p(12,"img",6),i(),o(13,"div",7)(14,"h3"),a(15,"Informaci\xF3n"),i(),o(16,"ul",8)(17,"li",9)(18,"strong"),a(19),M(20,"number"),i()(),o(21,"li",9)(22,"strong"),a(23),i()()()()(),o(24,"div",10)(25,"h3"),a(26," Traducciones "),i(),o(27,"div",11)(28,"span",12),a(29),i(),o(30,"span",12),a(31),i(),o(32,"span",12),a(33),i(),o(34,"span",12),a(35),i(),o(36,"span",12),a(37),i(),o(38,"span",12),a(39),i(),o(40,"span",12),a(41),i(),o(42,"span",12),a(43),i(),o(44,"span",12),a(45),i(),o(46,"span",12),a(47),i(),o(48,"span",12),a(49),i(),o(50,"span",12),a(51),i(),o(52,"span",12),a(53),i()()()()),t&2){let c=x();s(6),d(c.country.name.common),s(6),L("title",c.country.name.common),m("src",c.country.flags.svg,R)("alt",c.country.name.common),s(7),h("Poblaci\xF3n: ",N(20,19,c.country.population),""),s(4),h("C\xF3digo: ",c.country.ccn3,""),s(6),d(c.country.translations.ara.common),s(2),d(c.country.translations.bre.common),s(2),d(c.country.translations.ces.common),s(2),d(c.country.translations.cym.common),s(2),d(c.country.translations.deu.common),s(2),d(c.country.translations.est.common),s(2),d(c.country.translations.fra.common),s(2),d(c.country.translations.ita.common),s(2),d(c.country.translations.kor.common),s(2),d(c.country.translations.per.common),s(2),d(c.country.translations.hrv.common),s(2),d(c.country.translations.hun.common),s(2),d(c.country.translations.jpn.common)}}var me=(()=>{let e=class e{constructor(n,r,l){this.activatedRoute=n,this.router=r,this.countriesService=l}ngOnInit(){this.activatedRoute.params.pipe(G(({id:n})=>this.countriesService.searchCountryByAlphaCode(n))).subscribe(n=>n?this.country=n:this.router.navigateByUrl(""))}};e.\u0275fac=function(r){return new(r||e)(g(ie),g(ne),g(v))},e.\u0275cmp=f({type:e,selectors:[["countries-country-page"]],decls:3,vars:2,consts:[["loading",""],[4,"ngIf","ngIfElse"],[1,"alert","alert-info"],[1,"row"],[1,"col-12"],[1,"col-4"],["data-aos","flip-left","data-aos-duration","1500",1,"img-thumbnail",3,"src","alt","title"],[1,"col"],[1,"list-group"],[1,"list-group-item"],[1,"row","mt-2"],[1,"d-flex","flex-wrap"],[1,"badge","bg-primary","m-1"]],template:function(r,l){if(r&1&&u(0,Ie,2,0,"ng-template",null,0,j)(2,Ee,54,21,"div",1),r&2){let _=F(1);s(2),m("ngIf",l.country)("ngIfElse",_)}},dependencies:[y,V]});let t=e;return t})();var _e=[{path:"by-capital",component:se},{path:"by-country",component:ce},{path:"by-region",component:le},{path:"by/:id",component:me},{path:"**",redirectTo:"by-capital"}],pe=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=w({type:e}),e.\u0275inj=P({imports:[q.forChild(_e),q]});let t=e;return t})();var Ye=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=w({type:e}),e.\u0275inj=P({imports:[ee,pe,re]});let t=e;return t})();export{Ye as CountriesModule};
